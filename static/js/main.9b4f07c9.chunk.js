(this.webpackJsonpreact_pofol=this.webpackJsonpreact_pofol||[]).push([[0],{16:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(5),i=n.n(c),a=(n(16),n(11)),r=n(1);function o(e){var t=e.msgState,n=e.msg,s=e.time;return"msgMe"===t?Object(r.jsxs)("div",{className:"msg-box",children:[Object(r.jsx)("p",{className:"profile-img"}),Object(r.jsxs)("div",{className:"msg-txt me",children:[Object(r.jsx)("p",{className:"txt",children:n}),Object(r.jsx)("p",{className:"time",children:s})]})]}):"msgYou"===t?Object(r.jsx)("div",{className:"msg-box",children:Object(r.jsxs)("div",{className:"msg-txt you",children:[Object(r.jsx)("p",{className:"txt",children:n}),Object(r.jsx)("p",{className:"time",children:s})]})}):"msgLoading"===t?Object(r.jsxs)("div",{className:"msg-box loading",children:[Object(r.jsx)("p",{className:"profile-img"}),Object(r.jsx)("div",{className:"msg-txt",children:Object(r.jsxs)("div",{className:"txt",children:[Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{})]})})]}):void 0}function u(e){var t=e.msgList,n=e.onLoading,c=e.onAddAsync,i=e.onUpdated;Object(s.useEffect)((function(){n(0),c(0,"msgMe","\uc548\ub155\ud558\uc138\uc694",x()),setTimeout((function(){n(1),c(1,"msgMe","\uc548\ub155\ud558\uc138\uc694222",x())}),2e3)}),[]);var u=Object(s.useState)(),m=Object(a.a)(u,2),j=m[0],l=m[1],g=Object(s.useRef)(2),d=["\uc9d1\uc5d0\uac00\uace0 \uc2f6\uc5b4\uc694","\uc624\ub298\uc740 \uc218\ub2a5","\uc6d4\uae09\uc880 \ub9ce\uc774\uc8fc\uc138\uc694","\ud1f4\uadfc\ud558\uace0 \uc2f6\uc5b4\uc694"],b=Math.floor(Math.random()*(d.length-1))+1;Object(s.useEffect)((function(){t.length&&"msgYou"===t[t.length-1].target&&setTimeout((function(){n(g.current),c(g.current++,"msgMe",d[b],x())}),2e3);var e=document.getElementById("content");t.length&&e.offsetHeight>400&&(e.scrollTop=e.scrollHeight)}),[t]);var x=function(e){var t=new Date,n=("0"+t.getHours()).slice(-2),s=("0"+t.getMinutes()).slice(-2);return"".concat(n,":").concat(s)};function f(){i(g.current++,"msgYou",j,x()),l("")}return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("section",{className:"main",children:Object(r.jsxs)("div",{className:"main-box",children:[Object(r.jsxs)("div",{className:"header",children:[Object(r.jsx)("p",{className:"profile-img"}),Object(r.jsxs)("div",{class:"cont",children:[Object(r.jsx)("p",{className:"txt",children:"PARKMEEYOUNG"}),Object(r.jsx)("p",{className:"time",children:"KOREA"})]})]}),Object(r.jsx)("div",{className:"content",id:"content",children:t&&t.map((function(e){return Object(r.jsx)(o,{msgState:e.target,msg:e.text,time:e.time})}))}),Object(r.jsxs)("div",{className:"send-box",children:[Object(r.jsx)("input",{type:"text",placeholder:"Type message...",value:j,class:"txt-input",onChange:function(e){l(e.target.value)},onKeyDown:function(e){13===e.keyCode&&f()}}),Object(r.jsx)("button",{type:"button",class:"btn-send",onClick:f,children:"SEND"})]})]})})})}var m=n(3),j=n(2),l="message/update",g="message/change_msg",d="message/set_time",b=function(e,t,n,s){return function(c){setTimeout((function(){return c(function(e,t,n,s){return{type:g,msgs:{id:e,target:t,text:n,time:s}}}(e,t,n,s))}),2e3)}},x=function(e){return function(t){var n=new Date,s=("0"+n.getHours()).slice(-2),c=("0"+n.getMinutes()).slice(-2),i="".concat(s,":").concat(c);t(function(e,t){return{type:d,time:t,id:e}}(e,i))}},f=[];var O=function(){var e=Object(m.c)((function(e){return e.messages})),t=Object(m.b)();return Object(r.jsx)(u,{msgList:e,onUpdated:function(e,n,s,c){return t(function(e,t,n,s){return{type:l,msgs:{id:e,target:t,text:n,time:s}}}(e,n,s,c))},onLoading:function(e){return t(function(e){return{type:l,msgs:{id:e,target:"msgLoading",text:""}}}(e))},onsetTimeAsync:function(e){return t(x(e))},onAddAsync:function(e,n,s,c){return t(b(e,n,s,c))}})};n(24),n(25);var h=function(){return Object(r.jsx)(O,{})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),i(e),a(e)}))},v=n(4),N=Object(v.b)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return e.concat(t.msgs);case g:return e.map((function(e){return e.id===t.msgs.id?Object(j.a)(Object(j.a)({},e),{},{target:t.msgs.target,text:t.msgs.text,time:t.msgs.time}):e}));case d:return e.map((function(e){return e.id,t.id,Object(j.a)(Object(j.a)({},e),{},{time:t.time})}));default:return e}}}),y=n(9),M=n.n(y),E=n(10),L=Object(v.c)(N,Object(v.a)(E.a,M.a));i.a.render(Object(r.jsx)(m.a,{store:L,children:Object(r.jsx)(h,{})}),document.getElementById("root")),p()}},[[27,1,2]]]);
//# sourceMappingURL=main.9b4f07c9.chunk.js.map